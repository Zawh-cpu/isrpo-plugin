# **ITMO – как смысл жизни**

VS Code Extension

Это расширение добавляет набор небольших удобных и развлекательных команд, связанных с атмосферой ИТМО, мемами и автоматизацией простых задач.

---

## **Установка**

1. Склонируй репозиторий или скачай исходники.
2. Собери проект:

   ```bash
   npm install
   npm run package
   ```
3. Установи полученный `.vsix` файл через VS Code.

---

## **Функции расширения**

### **1. Hello World**

**Команда:** `simple-vscode-ext.helloWorld`
**Категория:** —
**Описание:**
Показывает всплывающее уведомление *"Hello World from simple-vscode-ext!"*. Используется как тестовая команда или проверка, что расширение активировано.

---

### **2. Написать ПСЖ**

**Команда:** `simple-vscode-ext.writePSJ`
**Категория:** ITMO.РИЛ
**Описание:**
Открывает сайт **псж.онлайн** в браузере. Прямой переход на страницу отправки сообщения.

---

### **3. Трейлер ПСЖ**

**Команда:** `simple-vscode-ext.trailerPSJ`
**Категория:** ITMO.РИЛ
**Описание:**
Переходит по ссылке на телеграм-пост с «трейлером ПСЖ».
Дополнительно показывает в VS Code уведомление: **«ЕЕЕ ITMO ПСЖ FLOW!»**

---

### **4. Blank CPP project**

**Команда:** `simple-vscode-ext.initBlackCppProject`
**Категория:** Init
**Описание:**
Генерирует структуру базового C++ проекта на основе шаблона в директории расширения (`templates/blank_cpp`).
Команда:

* проверяет, что открыт рабочий каталог VS Code;
* копирует шаблон в корень текущего workspace;
* создаёт отсутствующие папки и файлы рекурсивно.

**Назначение:** быстрое развёртывание минимального C++ проекта.

---

### **5. Депнуть**

**Команда:** `simple-vscode-ext.slotSpin`
**Категория:** ITMO.Fun
**Описание:**
Открывает WebView-панель со слотом-рандомайзером.
Команда:

* отображает анимированный "спин" слота;
* использует уникальные символы и мемные изображения;
* показывает результат выпадения: совпадения, «ПСЖ»-комбо, рандомные гифки или «дроп места» (Кронва, ЛОМО, Песочка, Биржа, Вязьма, Политех);
* позволяет пересоздать спин кнопкой **Retry**.

Полная логика работы реализована в функции `getWebviewContent()`.

---

## **Архитектура расширения**

### **Точка входа**

`activate(context: vscode.ExtensionContext)`

Здесь:

* регистрируются все команды через `vscode.commands.registerCommand`;
* создаются обработчики переходов во внешние ссылки;
* подключается логика WebView;
* выполняется копирование шаблона проекта.

### **Копирование шаблонов**

Функция:

```ts
function copyFolderRecursiveSync(src: string, dest: string)
```

Отвечает за рекурсивное копирование директории `templates/blank_cpp` в workspace. Использует:

* `fs.existsSync` — проверка существования;
* `fs.mkdirSync` — создание папок;
* `fs.readdirSync` — чтение содержимого;
* `fs.copyFileSync` — копирование файлов.

### **WebView (слот-машина)**

Функция:

```ts
function getWebviewContent(gifs, places)
```

Формирует HTML-страницу:

* тёмная тема, моноширинный стиль;
* псевдо-слот с анимацией через `setInterval`;
* система выпадений и отображение изображений;
* возможность повторного запуска.

---

## **Структура проекта**

```
simple-vscode-ext/
│
├── src/
│   └── extension.ts       # Основная логика плагина
│
├── media/                 # Изображения для WebView
│
├── templates/
│   └── blank_cpp/         # Шаблон C++ проекта
│
├── package.json           # Манифест расширения
├── esbuild.js             # Сборка
└── tsconfig.json
```

---

Автор: Даниил Гайкалов M3101
zawh.abc@gmail.com