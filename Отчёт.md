# Отчёт о разработке VS Code плагина

"ITMO - как смысл жизни"**
**Автор:** Гайкалов Даниил, M3101

## **1. Введение**

Целью работы являлось изучение архитектуры расширений Visual Studio Code и создание собственного плагина, добавляющего набор команд, уникальных функций и интерактивных элементов в IDE.
Разработанный плагин "ITMO - как смысл жизни" расширяет функциональность редактора рядом игровых и утилитарных возможностей, связанных с тематикой ИТМО.

Результатом работы является VS Code-расширение, включающее:

* открытие внешних ресурсов (ПСЖ, телеграм-посты),
* генерацию базовой структуры C++ проекта,
* интерактивную мини-игру "слот-машина",
* отображение кастомных веб-панелей внутри IDE.

Код размещён в общедоступном репозитории (GitHub) и сопровождается документацией.

---

## **2. Архитектура VS Code и модель расширений**

Расширения VS Code основаны на чёткой модульной архитектуре, позволяющей подключать стороннюю функциональность без прямого вмешательства в ядро IDE.

Основные элементы архитектуры:

### **2.1. Extension Host**

Специальный процесс, в котором исполняется код расширений. Он изолирован от основного интерфейса VS Code, что обеспечивает стабильность IDE и безопасность.

### **2.2. API VS Code**

Расширения получают доступ к функциональности редактора через публичное API:

* `vscode.commands.registerCommand()` - регистрация команд
* `vscode.window.showInformationMessage()` - вывод уведомлений
* `vscode.env.openExternal()` - открытие внешних ссылок
* `vscode.workspace` - работа с проектами
* `vscode.WebviewPanel` - создание кастомных HTML-панелей

### **2.3. package.json - декларация возможностей**

Каждое расширение описывает свои точки интеграции в `contributes`:

* команды,
* меню,
* активационные события,
* настройки и т.д.

### **2.4. WebView**

Мощный механизм для отображения HTML/CSS/JS интерфейсов внутри VS Code.
В рамках проекта WebView использован для "слот-машины".

---

## **3. Реализация плагина**

Архитектура плагина состоит из двух основных частей:

1. **Backend-часть (extension.ts)**
   Отвечает за регистрацию команд и взаимодействие с API VS Code.
2. **Frontend-часть (WebView HTML + JS)**
   Содержит игровой интерфейс и логику.

### **3.1. Реализованные команды**

| Команда                                 | Назначение                                      |
| --------------------------------------- | ----------------------------------------------- |
| `simple-vscode-ext.helloWorld`          | Демонстрационная команда.                       |
| `simple-vscode-ext.writePSJ`            | Открывает сайт ПСЖ.                             |
| `simple-vscode-ext.trailerPSJ`          | Открывает телеграм-пост + вывод сообщения.      |
| `simple-vscode-ext.initBlackCppProject` | Создаёт структуру C++ проекта из шаблона.       |
| `simple-vscode-ext.slotSpin`            | Запускает WebView с интерактивной слот-машиной. |

### **3.2. Генерация C++ проекта**

Функция `copyFolderRecursiveSync()` копирует папку `templates/blank_cpp` в рабочий каталог проекта.

Это позволяет за несколько кликов создать готовый минимальный C++-проект.

### **3.3. WebView: мини-игра "Депаем"**

Интерфейс включает:

* анимированное вращение трёх символов,
* кнопку повтора,
* случайный выбор гифок и "депнутых" мест,
* отображение результата.

HTML, отображаемый в WebView, полностью генерируется функцией `getWebviewContent()`.

Элементы медиа берутся из папки `media`.

---

## **4. Структура проекта**

```
simple-vscode-ext/
 ├─ src/
 │   └─ extension.ts
 ├─ media/
 │   ├─ apples.gif
 │   ├─ jokes_over.jpg
 │   ├─ ...
 ├─ templates/
 │   └─ blank_cpp/
 ├─ package.json
 ├─ tsconfig.json
 ├─ esbuild.js
 └─ README.md
```

---

## **5. Документация и размещение**

В репозитории размещены:

* исходный код плагина,
* README.md с описанием:

  * автора (ФИО и группа),
  * названия,
  * функциональных возможностей,
* документация по проекту (MD-файл).

---

## **6. Вывод**

В ходе выполнения работы было изучено:

* устройство архитектуры расширений VS Code,
* базовые и продвинутые возможности API,
* механизм WebView,
* организация проектов под TypeScript + esbuild.

Результатом стал полноценный функциональный плагин с несколькими командами и интерактивным интерфейсом. Проект можно развивать дальше, добавляя новые функции, расширяя слот-машину, интегрируя ПСЖ и шаблоны проектов.